<head>
  <title>frontend</title>
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
</head>


<template name="layout">
  <header>
  </header>
  <div style="padding: 10px; margin: 0 auto; width: 970px; min-height: 500px;">
    <aside style="position: fixed; width: 150px; ">
      <a href="/">
        <img src="/renren.svg"
           style="display:block; height: 50px; margin: 0 auto"/>
      </a>
      <ul class="nav nav-pills nav-stacked">
        <li class="disabled">
          <a href="/study/">
            Review
            <span class="badge pull-right">0</span>
          </a>
        </li>
        <li class="{{isOnPage 'home'}}">
          <a href="{{pathFor 'home'}}">My Courses</a>
        </li>
        <li class="{{isOnPage 'browseCourses'}}">
          <a href="{{pathFor 'browseCourses'}}">Browse Courses</a>
        </li>
        <li class="disabled"><a>Metrics</a></li>
        {{#if currentUser}}
        <li><a href="" id="logout">Log out</a></li>
        {{/if}}
        
        
      </ul>
    </aside>
    <div style="padding-left: 170px; ">
      {{#if currentUser}}
      {{else}}
        <div class="alert alert-warning">
          You are using LessChobo anonymously. Sign in or create an account
          to save your progress.<br/>
          <center>{{> loginButtons }}</center>
        </div>
      {{/if}}
      {{> yield}}
    </div>
  </div>
  <footer style="clear: both;">Footer</footer>
</template>

<template name="loading">
  Loading data...
</template>

<template name="home">
  {{#each units}}
    <div class="panel panel-default">
      <!-- <div class="panel-heading"> -->
        <a class="panel-heading study-link" style="display: block"
           href="{{pathFor 'study' id=this.id slug=this.unit.slug}}">
          <a class="toggle-info"
             data-toggle="collapse" href="#collapse_{{unit.slug}}">
            <span class="glyphicon glyphicon-chevron-down"></span>
          </a>
          {{unit.title}}
          <span class="label pull-right label-info">50%</span>
        </a>
      <!-- </div> -->
      <div id="collapse_{{unit.slug}}" class="panel-collapse collapse">
        <div class="panel-body">
          Body
          <a class="btn btn-primary " role="botton"
             href="{{pathFor 'viewCourse' id=this.id slug=this.unit.slug}}">
             View details.
           </a>
        </div>
      </div>
    </div>
  {{/each}}
</template>

<template name="viewCourse">
  <table class="table table-striped table-condensed table-bordered">
    <thead>
      <tr>
        <th class="order">#</th>
        <th>Content</th>
        <!-- <th class="time">Schedule</th> -->
        <th class="time">ETA</th>
      </tr>
    </thead>
    <tbody>
    {{#each stencils}}
      <tr>
        <td>{{order}}</td>
        <td><pre>{{stencil.chinese}}</pre></td>
        <!-- <td>{{schedulePP}}</td> -->
        <td>{{scheduleETA}}</td>
      </tr>
    {{/each}}
    </tbody>
  </table>
</template>



<template name="browseCourses">
  Browes courses.
</template>

<template name="interface">

  <div class="exercise">


    <div class="target-line">Target word:
      <span class="dropdown">
        <a href="#" data-toggle="dropdown" class="entry">{{characters}}</a>
        <div class="dropdown-menu" id="target-menu" role="menu" aria-labelledby="tLabel">
          <ul>
            {{#each dictionary}}
              <li>{{this}}</li>
            {{/each}}
          </ul>
        </div>
      </span>
    </div>

    <!-- <p>Word: <span class="target-word">{{characters}}</span></p> -->

    <br/><br/>

    <div class="answer">
      {{#if doShowAnswer}}
        Pinyin answer: {{answer}}
      {{/if}}
    </div>

    {{#each sentences}}
      <div class="block">
        <div class="task">
            {{#each blocks}}
            {{#if isEscaped}}
              <span class="word">
                <span class="chinese">
                  {{text}}
                </span>
                <span class="pinyin">
                  &nbsp;
                </span>
              </span>
            {{else}}
              <span class="word">
                {{#unless isGap}}
                  <span class="chinese dropdown">
                    <a href="#" data-toggle="dropdown" class="entry">{{chinese}}</a>
                    <div class="dropdown-menu" id="menu1" role="menu" aria-labelledby="dLabel">
                      <ul>
                        {{#each dictEntries}}
                          <li>{{pinyin}}</li>
                          {{#each english}}
                            <li class="option"><a href="#" class="dict-select">{{english}}</a></li>
                          {{/each}}
                        {{/each}}
                      </ul>
                    </div>
                  </span>



                  <span class="pinyin">
                    {{thisPinyin}}
                  </span>
                {{else}}
                  {{#if isActive}}
                    <input class="activeInputInline" type="index" autofocus value=""/>
                  {{else}}
                    <input type="index" disabled />
                  {{/if}}
                  <span class="pinyin">
                    &nbsp;
                  </span>
                {{/unless}}

                <span class="literal">
                  {{#if literal}}
                    {{literal}}
                  {{/if}}
                </span>
              </span>
            {{/if}}
          {{/each}}
        </div>
        <div class="english">
          {{english}}
        </div>
      </div>
    {{/each}}
  </div>

  {{#if isCompleted}}
    <button id="nextCardButton" autofocus>Next</button>
  {{/if}}

  <!-- <button id="toggleTransliteration">Toggle translations</button> -->
  <!-- <button id="fetchCards">Fetch cards</button> -->

  <!-- <div class="activityBar">
    <input id="answer" type="text" placeholder="Submit answer..."/>
  </div> -->
</template>

<!-- <template name="sentence">
</template> -->








<template name="unused">
  <div class="stim">
    {{#each blocks}}
      <div class="block">
        {{#each words}}
          <span class="word">
            <span class="chinese">
              {{chinese}}
            </span>
            <span class="pinyin">
              {{pinyin}}
            </span>
            <span class="literal">
              {{literal}}
            </span>
          </span>
        {{/each}}
      </div>
    {{/each}}
  </div>
</template>
